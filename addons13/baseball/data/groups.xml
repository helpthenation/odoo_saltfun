<?xml version="1.0"?>
<odoo>
    <data noupdate="1">

        <record id="base.group_user" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('product.group_product_variant')),]"/>
        </record>

        <record model="ir.module.category" id="module_category_baseball">
            <field name="name">Baseball</field>
            <field name="sequence">1</field>
        </record>

        <record model="res.groups" id="group_tab_read">
            <field name="name">Clubhouse read</field>
            <field name="comment">Can see information about tabs</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>

        <record model="res.groups" id="group_tab_write">
            <field name="name">Clubhouse write</field>
            <field name="comment">Can edit information about tabs</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>


		<record model="res.groups" id="group_club_members_read">
			<field name="name">Members read</field>
	        <field name="implied_ids" eval="[(4, ref('base.group_user')), (4, ref('group_tab_read'))]"/>
	        <field name="comment">Can see information about all  members</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
        <record model="res.groups" id="group_sponsoring">
            <field name="name">Sponsoring</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
            <field name="comment">Can see inforation about the sponsors</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
		<record model="res.groups" id="group_uniforms_manage">
			<field name="name">Uniform manager</field>
	        <field name="implied_ids" eval="[(4, ref('base.group_user')), (4, ref('sales_team.group_sale_manager')), (4, ref('group_tab_read'))]"/>
	        <field name="comment">Can edit information about all  members</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
        <record model="res.groups" id="group_team_member">
            <field name="name">Team member</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
            <field name="comment">Can see inforation about his team</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
		<record model="res.groups" id="group_club_members_manage">
			<field name="name">Members manager</field>
	        <field name="implied_ids" eval="[(4, ref('group_club_members_read')), (4, ref('group_uniforms_manage')), (4, ref('group_tab_read')),]"/>
	        <field name="comment">Can edit information about all  members</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
        <record model="res.groups" id="group_sports_manage">
            <field name="name">Sports manager</field>
            <field name="implied_ids" eval="[(4, ref('group_club_members_read'))]"/>
            <field name="comment">Can edit information about competitions</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
        <record model="res.groups" id="group_team_manager">
            <field name="name">Team manager</field>
            <field name="implied_ids" eval="[(4, ref('group_club_members_manage')), (4, ref('group_sports_manage'))]"/>
            <field name="comment">Manage his team</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>
		<record model="res.groups" id="group_club_manage">
			<field name="name">Club manager</field>
	        <field name="implied_ids" eval="[(4, ref('group_club_members_manage')), (4, ref('account.group_account_manager')),  (4, ref('group_sports_manage')) , (4, ref('group_sponsoring')), (4, ref('group_tab_write')),]"/>
	        <field name="comment">Can edit information about all  members</field>
            <field name="category_id" ref="module_category_baseball"/>
        </record>



        <record model="ir.rule" id="res_partner_team_manager">
            <field name="name">res_partner: team_manager</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">['|', ('team_ids.coaches_ids', 'in', user.partner_id.id), ('team_ids.responsible_ids', 'in', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('group_team_manager'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

<!--         <record model="ir.rule" id="res_partner_team_manager_create">
            <field name="name">res_partner: team_manager</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('group_team_manager'))]"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record> -->

        <record model="ir.rule" id="team_team_manager">
            <field name="name">team: team_manager</field>
            <field name="model_id" ref="baseball.model_baseball_teams"/>
            <field name="domain_force">['|', ('coaches_ids', 'in', user.partner_id.id), ('responsible_ids', 'in', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('group_team_manager'))]"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>

        <record model="ir.rule" id="rule_practice_team_manager">
            <field name="name">practice: team_manager</field>
            <field name="model_id" ref="baseball.model_baseball_teams_practice"/>
            <field name="domain_force">['|', ('team_ids.coaches_ids', 'in', user.partner_id.id), ('team_ids.responsible_ids', 'in', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('group_team_manager'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>


<!--         <record model="ir.rule" id="team_team_manager_create">
            <field name="name">team: team_manager</field>
            <field name="model_id" ref="baseball.model_baseball_teams"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('group_team_manager'))]"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record> -->

        <record model="ir.rule" id="website_drills">
            <field name="name">Website Drills: published</field>
            <field name="model_id" ref="model_baseball_drill"/>
            <field name="domain_force">[('website_published', '=', True)]</field>
            <field name="groups" eval="[(4, ref('base.group_public')), (4, ref('base.group_portal'))]"/>
        </record>

    </data>
</odoo>